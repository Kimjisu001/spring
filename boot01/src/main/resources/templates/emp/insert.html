<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/"       
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/default_layout}"
      layout:fragment="Content">
<head>
<meta charset="UTF-8">
<title>사원등록</title>.
<!-- <script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"></script> -->
  <th:block th:replace=~{common/configs/default_config::jQueryConfig}"></th:block>
</head>
<body>
<h1>사원등록</h1>
<form name="insertForm" th:action="@{/empInsert}" method="post">
        <h3>사원 정보 등록</h3>
        <div>
            <label for="ename">이름</label>
            <input type="text" id="ename" name="lastName" >
        </div>
        <div>
            <label for="email">이메일</label>
            <input type="text" id="email" name="email" >
        </div>
        <div>
            <label for="hDate">입사일</label>
            <input type="date" id="hDate" name="hireDate">
        </div>
        <div>
            <label for="job">업무</label>
            <input type="text" id="job" name="jobId">
        </div>
        <div>
            <label for="sal">급여</label>
            <input type="text" id="sal" name="salary">
        </div>
        <div>
            <button type="submit" >등록</button>
        </div>
    </form>
    <script>
      //이름이 null 값이면 "이름을 등록해주세요"메세지를 띄우고-> 포커스-> 스탑      
      $('form[name="insertForm"]').on('submit',insertHandler);
      
      function insertHandler(event){
    	  event.preventDefault();
    	  
    	  let name = $('input[name="lastName"]');
    	  if(name.val() ==''){
    		  alert('이름이 등록되지 않았습니다.');
    		  lastName.focus();
    		  return;
    	  }
    	  
    	  let email = $('input[name="email"]');
    	  if(email.val() ==''){
    		  alert('이메일이 등록되지 않았습니다.');
    		  email.focus();
    		  return;
    	  }
    	  
    	  let date = $('input[name="hireDate"]');
    	  if(date.val() ==''){
    		  alert('입사일이 등록되지 않았습니다.');
    		  hireDate.focus();
    		  return;
    	  }
    	  
    	  let job = $('input[name="jobId"]');
    	  if(job.val() ==''){
    		  alert('잡아이디가 등록되지 않았습니다.');
    		  jobId.focus();
    		  return;
    	  }
    	  
    	  let sal = $('input[name="salary"]');
    	  if(sal.val() <= 0){
    		  alert('급여는 최소한 0보다 커야합니다.');
    		  salary.focus();
    		  return;
    	  }
    	  insertForm.submit();
      }
    </script>
</body>
</html>