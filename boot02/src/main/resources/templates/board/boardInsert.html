<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/default_layout}"
      layout:fragment="Content"> 
<head>
<meta charset="UTF-8">
<title>게시글 등록</title>
</head>
<body>
     <div class="container text-center">
     <form name="insertForm" th:action="@{/boardInsert}" method="post">
    <h1>게시글 등록</h1>
     <table class="table">
     <tr>
        <th >제목</th>
        <td><input type="text" name="title" ></td>
      </tr> 
      
     <tr>
        <th >내용</th>
        <td><textarea class="textarea" name="contents" ></textarea></td>
      </tr> 
      
     <tr>
        <th>작성자</th>
        <td><input type="text" name="writer" ></td>
      </tr> 
      
     <tr>
        <th>첨부파일</th>
        <td><input type="text" name="writer" ></td>
      </tr>
      
      <tr>
        <th>작성일자</th>
        <td><input class="form-control" type="text" name="regdate" placeholder="yyyy/MM/dd" ></td>
      </tr> 
   </table>
   <button type="submit" >등록</button>
 </form>
 </div>
<script>
   //제목이 null값이면 "제목을 등록해주세요" 메세지를 띄우고 -> 포커스 -> 스탑
   //이과정을 유효성 체크라고 함.
   $('form[name="insertForm"]').on('submit',boardInsertHandler);
   
   function boardInsertHandler(event){
	   //event.preventDefault(); //~가 동작하지 않도록 일시정지
	   
	   let title = $('form [name="title"]');
	   if(title.val()==''){
		   alert('제목이 입력되지 않았습니다.');
		   title.focus();
		   return; //더이상 진행하지않고 서브밋을 정지시킴
	   }
	   
	   let regdate = $('form [name="regdate"]');
        if(regdate.val()==''){
 		   alert('작성일자가 입력되지 않았습니다.');
 		    regdate.focus();
		   return; 
        }	   
	   
 	    let writer = $('form [name="writer"]');
         if(writer.val()==''){
		    alert('작성자가 입력되지 않았습니다.');
		    writer.focus();
		   return; 
       }	   
	   
         alert('게시글이 등록되었습니다.')
   	     insertForm.submit();//서브밋 실행
         
   }
  
  </script>
</body>
</html>